<app-buyer-navbar></app-buyer-navbar>
<flash-messages></flash-messages>

<div class = "container">
&nbsp;
  <div class="row justify-content-md">
    <div class="col col">
      <h4 class="page-header">Welcome, {{buyer.first_name}}</h4>
    </div>
    <div class="col col-lg-auto">
      <button type="button" routerLink="/buyer/make-request" class="btn btn-block btn-lg btn-primary">Submit New Request</button>
    </div>
  </div>
  <div class="tabbable">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item">
        <a class="nav-link active" data-toggle="tab" [ngClass]="{'active':currentTab === 'requests'}" data-target="#requests" role="tab" aria-controls="requests" aria-selected="true" (click)="requests('requests')">Requests</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-toggle="tab" [ngClass]="{'active':currentTab === 'history'}" data-target="#history" role="tab" aria-controls="history" aria-selected="false" (click)="history('history')">History</a>
      </li>
    </ul>
    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active" id="requests" [ngClass]="{'active':currentTab === 'requests'}" role="tabpanel" aria-labelledby="requests-tab">
          <br>
          <h3>My Requests</h3>

          <div class="row justify-content-md">
            <div class="col">



            </div>
            <div class="input-group col searchBox">
              <input type="text" class="form-control" placeholder="Search Requests">
              <div class="input-group-append">
                <button class="btn btn-block btn-secondary submitSearchBtn" type="submit">Search</button>
                </div>
            </div>
          </div>
          &nbsp;
          <ul class="container">
            <li class="card container" *ngFor="let request of requestList">
              &nbsp;

              <div class="row">
                <div class="col-md-auto">
                  <h4>{{request.title}}</h4>
                </div>
                <div class="col">
                  <b>Offer count:</b>
                </div>
              </div>

              <p><b>Deadline:</b> {{request.deadline}}</p>
              <p><b>Description:</b> {{request.description}}</p>
              <button type="button" routerLink="/request/{{request._id}}" class="btn btn-block btn-lg btn-primary">View Offers</button>
            </li>
          </ul>

      </div>
      <div class="tab-pane fade show" id="history" [ngClass]="{'active':currentTab === 'history'}" role="tabpanel" aria-labelledby="history-tab">

        <br>
        <h3>My History</h3>

        <div class="row justify-content-md">
          <div class="col">



          </div>
          <div class="input-group col searchBox">
            <input type="text" class="form-control" placeholder="Search History">
            <div class="input-group-append">
              <button class="btn btn-block btn-secondary submitSearchBtn" type="submit">Search</button>
              </div>
          </div>
        </div>

      </div>
    </div>
  </div>
